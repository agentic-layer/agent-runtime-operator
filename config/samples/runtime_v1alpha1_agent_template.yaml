apiVersion: runtime.agentic-layer.ai/v1alpha1
kind: Agent
metadata:
  labels:
    app.kubernetes.io/name: agent-runtime-operator
    app.kubernetes.io/managed-by: kustomize
  name: news-agent
spec:
  framework: google-adk
  description: "A news agent that fetches and summarizes current articles"
  instruction: "You are a news agent that can fetch current news articles and provide summaries. Use the news fetcher tool to get articles and the summarizer agent to create concise summaries."
  model: "gemini/gemini-2.5-flash"
  subAgents:
    - name: summarizer_agent
      url: "https://agents.example.com/summarizer-agent.json"
#  Uncommented for now since health probe needs working mcp tools
#  tools:
#    - name: news_fetcher
#      url: "https://news.mcpservers.org/fetch/mcp"
#    - name: web_fetch
#      url: "https://remote.mcpservers.org/fetch/mcp"
  protocols:
    - type: A2A
      path: "/"
  replicas: 1
  env:
    - name: LOG_LEVEL
      value: "info"
  envFrom:
    - configMapRef:
        name: agent-config-map